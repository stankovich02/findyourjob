function printSearchResults(e){let t="";e.forEach(function(e){let r="";switch(e.type){case"job":r="searchByJob";break;case"technology":r="searchByTechnology";break;case"company":r="searchByCompany"}t+=`
        <a data-link="${e.link}" class="text-dark linkSearch ${r}">
          <div class="search-result d-flex align-items-center">
            <div class="iconResult me-3 d-flex justify-content-center">
                <i class="${e.icon}"></i>
            </div>
            <div class="searchText">
                <h5 class="titleResult" data-id="${e.id}">${e.name}</h5>
                <p>${e.text}</p>
            </div>
          </div>
        </a>
        `}),$("#searchResults").html(t),$(".searchByJob").click(function(){let e=$(this).find(".titleResult").text();localStorage.setItem("keyword",e),window.location.href=$(this).attr("data-link")}),$(".searchByTechnology").click(function(){let e=$(this).find(".titleResult").attr("data-id");localStorage.setItem("technology",e),window.location.href=$(this).attr("data-link")}),$(".searchByCompany").click(function(){$(this).find(".titleResult").attr("data-id"),window.location.href=$(this).attr("data-link")})}if($("#searchAll").on("input",function(){if($(this).val().length>2){let e=$(this).val();$.ajax({url:"/search",method:"get",data:{search:e},success:function(e){printSearchResults(e)}})}else $("#searchResults").html("")}),$("#verifiedAccount").length&&toastr.success($("#verifiedAccount").text()),$("#notVerified").length&&toastr.error($("#notVerified").text()),$("#companyError")&&""!=$("#companyError").text()){console.log($("#companyError"));let e=$("#companyError").text();$("#companyError").text(""),toastr.info(e)}let deleteButtons=document.querySelectorAll(".deleteJob a");deleteButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.parentElement.nextElementSibling.querySelector(".jobName").innerHTML;console.log(r),$(".deleteJobModal .modal-body p").html(`Are you sure you want to delete "${r}" job?`),$(".deleteJobModal").css("display","block"),$("#closeModal").click(function(){$(".deleteJobModal").css("display","none")}),$("#deleteModal").click(function(){let t=e.getAttribute("data-id");$.ajax({url:"/jobs/"+t,method:"DELETE",success:function(){location.reload()},error:function(e){if(e.responseJSON.errors)for(let t in e.responseJSON.errors)toastr.error(e.responseJSON.errors[t][0]);e.responseJSON.error&&toastr.error(e.responseJSON.error)}})})})}),$(".categorySingle").click(function(){let e=$(this).attr("data-id");localStorage.setItem("category",e),window.location.href="/jobs"}),$(".saveJob").click(function(e){e.preventDefault();let t=$(this).attr("data-id"),r=this.querySelector("i");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:"/jobs/save/"+t,method:"POST",data:{jobID:t},success:function(e){"far fa-heart text-primary"===r.className?setTimeout(()=>{r.className="fas fa-heart text-primary"},1e3):setTimeout(()=>{r.className="far fa-heart text-primary"},1e3),setTimeout(()=>{toastr.success(e.message)},1e3)},error:function(e){if(e.responseJSON.errors)for(let t in e.responseJSON.errors)toastr.error(e.responseJSON.errors[t][0]);e.responseJSON.error&&toastr.error(e.responseJSON.error)}})});
